"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/admin/status";
exports.ids = ["pages/api/admin/status"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fadmin%2Fstatus&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cadmin%5Cstatus.js&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fadmin%2Fstatus&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cadmin%5Cstatus.js&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_admin_status_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\admin\\status.js */ \"(api)/./pages/api/admin/status.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_admin_status_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_admin_status_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/admin/status\",\n        pathname: \"/api/admin/status\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_admin_status_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmFkbWluJTJGc3RhdHVzJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUNhZG1pbiU1Q3N0YXR1cy5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUMyRDtBQUMzRDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsdURBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLHVEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL3NlY3JldC1zYW50YS8/ODI0MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXGFkbWluXFxcXHN0YXR1cy5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2FkbWluL3N0YXR1c1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2FkbWluL3N0YXR1c1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fadmin%2Fstatus&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cadmin%5Cstatus.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/storage.js":
/*!************************!*\
  !*** ./lib/storage.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   loadData: () => (/* binding */ loadData),\n/* harmony export */   saveData: () => (/* binding */ saveData)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n// storage.js\n// Smart storage that works on both local and serverless environments\n\n\nconst DATA_FILE = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data.json\");\n// In-memory storage for serverless environments (Vercel)\nlet memoryData = null;\nfunction isServerless() {\n    // Detect if we're running in a serverless environment\n    return process.env.VERCEL || process.env.AWS_LAMBDA_FUNCTION_NAME || process.env.FUNCTION_NAME;\n}\nasync function loadData() {\n    // If serverless, use memory storage\n    if (isServerless()) {\n        if (memoryData) {\n            console.log(\"Loading data from memory (serverless mode)\");\n            return memoryData;\n        }\n        console.log(\"No data in memory, returning default (serverless mode)\");\n        return {\n            participants: {},\n            assignments: {},\n            revealed: {}\n        };\n    }\n    // Local development: use file storage\n    try {\n        if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(DATA_FILE)) {\n            const content = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(DATA_FILE, \"utf8\");\n            console.log(\"Loading data from file (local mode)\");\n            return JSON.parse(content);\n        }\n    } catch (error) {\n        console.warn(\"Error loading data.json, using default:\", error.message);\n    }\n    console.log(\"No file found, returning default (local mode)\");\n    return {\n        participants: {},\n        assignments: {},\n        revealed: {}\n    };\n}\nasync function saveData(data) {\n    // If serverless, use memory storage\n    if (isServerless()) {\n        memoryData = {\n            ...data\n        }; // Store a copy in memory\n        console.log(\"Data saved to memory (serverless mode)\");\n        return true;\n    }\n    // Local development: use file storage\n    try {\n        const dir = path__WEBPACK_IMPORTED_MODULE_1___default().dirname(DATA_FILE);\n        if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(dir)) {\n            fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(dir, {\n                recursive: true\n            });\n        }\n        fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(DATA_FILE, JSON.stringify(data, null, 2), \"utf8\");\n        console.log(\"Data saved to file (local mode)\");\n        return true;\n    } catch (error) {\n        console.error(\"Error saving data.json:\", error.message);\n        throw new Error(`Failed to save data: ${error.message}`);\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    loadData,\n    saveData\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvc3RvcmFnZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsYUFBYTtBQUNiLHFFQUFxRTtBQUNqRDtBQUNJO0FBRXhCLE1BQU1FLFlBQVlELGdEQUFTLENBQUNHLFFBQVFDLEdBQUcsSUFBSTtBQUUzQyx5REFBeUQ7QUFDekQsSUFBSUMsYUFBYTtBQUVqQixTQUFTQztJQUNQLHNEQUFzRDtJQUN0RCxPQUFPSCxRQUFRSSxHQUFHLENBQUNDLE1BQU0sSUFBSUwsUUFBUUksR0FBRyxDQUFDRSx3QkFBd0IsSUFBSU4sUUFBUUksR0FBRyxDQUFDRyxhQUFhO0FBQ2hHO0FBRU8sZUFBZUM7SUFDcEIsb0NBQW9DO0lBQ3BDLElBQUlMLGdCQUFnQjtRQUNsQixJQUFJRCxZQUFZO1lBQ2RPLFFBQVFDLEdBQUcsQ0FBQztZQUNaLE9BQU9SO1FBQ1Q7UUFDQU8sUUFBUUMsR0FBRyxDQUFDO1FBQ1osT0FBTztZQUFFQyxjQUFjLENBQUM7WUFBR0MsYUFBYSxDQUFDO1lBQUdDLFVBQVUsQ0FBQztRQUFFO0lBQzNEO0lBRUEsc0NBQXNDO0lBQ3RDLElBQUk7UUFDRixJQUFJakIsb0RBQWEsQ0FBQ0UsWUFBWTtZQUM1QixNQUFNaUIsVUFBVW5CLHNEQUFlLENBQUNFLFdBQVc7WUFDM0NXLFFBQVFDLEdBQUcsQ0FBQztZQUNaLE9BQU9PLEtBQUtDLEtBQUssQ0FBQ0g7UUFDcEI7SUFDRixFQUFFLE9BQU9JLE9BQU87UUFDZFYsUUFBUVcsSUFBSSxDQUFDLDJDQUEyQ0QsTUFBTUUsT0FBTztJQUN2RTtJQUVBWixRQUFRQyxHQUFHLENBQUM7SUFDWixPQUFPO1FBQUVDLGNBQWMsQ0FBQztRQUFHQyxhQUFhLENBQUM7UUFBR0MsVUFBVSxDQUFDO0lBQUU7QUFDM0Q7QUFFTyxlQUFlUyxTQUFTQyxJQUFJO0lBQ2pDLG9DQUFvQztJQUNwQyxJQUFJcEIsZ0JBQWdCO1FBQ2xCRCxhQUFhO1lBQUUsR0FBR3FCLElBQUk7UUFBQyxHQUFHLHlCQUF5QjtRQUNuRGQsUUFBUUMsR0FBRyxDQUFDO1FBQ1osT0FBTztJQUNUO0lBRUEsc0NBQXNDO0lBQ3RDLElBQUk7UUFDRixNQUFNYyxNQUFNM0IsbURBQVksQ0FBQ0M7UUFDekIsSUFBSSxDQUFDRixvREFBYSxDQUFDNEIsTUFBTTtZQUN2QjVCLG1EQUFZLENBQUM0QixLQUFLO2dCQUFFRyxXQUFXO1lBQUs7UUFDdEM7UUFFQS9CLHVEQUFnQixDQUFDRSxXQUFXbUIsS0FBS1ksU0FBUyxDQUFDTixNQUFNLE1BQU0sSUFBSTtRQUMzRGQsUUFBUUMsR0FBRyxDQUFDO1FBQ1osT0FBTztJQUNULEVBQUUsT0FBT1MsT0FBTztRQUNkVixRQUFRVSxLQUFLLENBQUMsMkJBQTJCQSxNQUFNRSxPQUFPO1FBQ3RELE1BQU0sSUFBSVMsTUFBTSxDQUFDLHFCQUFxQixFQUFFWCxNQUFNRSxPQUFPLENBQUMsQ0FBQztJQUN6RDtBQUNGO0FBRUEsaUVBQWU7SUFBRWI7SUFBVWM7QUFBUyxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZWNyZXQtc2FudGEvLi9saWIvc3RvcmFnZS5qcz9jODYxIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHN0b3JhZ2UuanNcclxuLy8gU21hcnQgc3RvcmFnZSB0aGF0IHdvcmtzIG9uIGJvdGggbG9jYWwgYW5kIHNlcnZlcmxlc3MgZW52aXJvbm1lbnRzXHJcbmltcG9ydCBmcyBmcm9tICdmcyc7XHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5cclxuY29uc3QgREFUQV9GSUxFID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdkYXRhLmpzb24nKTtcclxuXHJcbi8vIEluLW1lbW9yeSBzdG9yYWdlIGZvciBzZXJ2ZXJsZXNzIGVudmlyb25tZW50cyAoVmVyY2VsKVxyXG5sZXQgbWVtb3J5RGF0YSA9IG51bGw7XHJcblxyXG5mdW5jdGlvbiBpc1NlcnZlcmxlc3MoKSB7XHJcbiAgLy8gRGV0ZWN0IGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSBzZXJ2ZXJsZXNzIGVudmlyb25tZW50XHJcbiAgcmV0dXJuIHByb2Nlc3MuZW52LlZFUkNFTCB8fCBwcm9jZXNzLmVudi5BV1NfTEFNQkRBX0ZVTkNUSU9OX05BTUUgfHwgcHJvY2Vzcy5lbnYuRlVOQ1RJT05fTkFNRTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWREYXRhKCkge1xyXG4gIC8vIElmIHNlcnZlcmxlc3MsIHVzZSBtZW1vcnkgc3RvcmFnZVxyXG4gIGlmIChpc1NlcnZlcmxlc3MoKSkge1xyXG4gICAgaWYgKG1lbW9yeURhdGEpIHtcclxuICAgICAgY29uc29sZS5sb2coJ0xvYWRpbmcgZGF0YSBmcm9tIG1lbW9yeSAoc2VydmVybGVzcyBtb2RlKScpO1xyXG4gICAgICByZXR1cm4gbWVtb3J5RGF0YTtcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKCdObyBkYXRhIGluIG1lbW9yeSwgcmV0dXJuaW5nIGRlZmF1bHQgKHNlcnZlcmxlc3MgbW9kZSknKTtcclxuICAgIHJldHVybiB7IHBhcnRpY2lwYW50czoge30sIGFzc2lnbm1lbnRzOiB7fSwgcmV2ZWFsZWQ6IHt9IH07XHJcbiAgfVxyXG5cclxuICAvLyBMb2NhbCBkZXZlbG9wbWVudDogdXNlIGZpbGUgc3RvcmFnZVxyXG4gIHRyeSB7XHJcbiAgICBpZiAoZnMuZXhpc3RzU3luYyhEQVRBX0ZJTEUpKSB7XHJcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBmcy5yZWFkRmlsZVN5bmMoREFUQV9GSUxFLCAndXRmOCcpO1xyXG4gICAgICBjb25zb2xlLmxvZygnTG9hZGluZyBkYXRhIGZyb20gZmlsZSAobG9jYWwgbW9kZSknKTtcclxuICAgICAgcmV0dXJuIEpTT04ucGFyc2UoY29udGVudCk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUud2FybignRXJyb3IgbG9hZGluZyBkYXRhLmpzb24sIHVzaW5nIGRlZmF1bHQ6JywgZXJyb3IubWVzc2FnZSk7XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnNvbGUubG9nKCdObyBmaWxlIGZvdW5kLCByZXR1cm5pbmcgZGVmYXVsdCAobG9jYWwgbW9kZSknKTtcclxuICByZXR1cm4geyBwYXJ0aWNpcGFudHM6IHt9LCBhc3NpZ25tZW50czoge30sIHJldmVhbGVkOiB7fSB9O1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZURhdGEoZGF0YSkge1xyXG4gIC8vIElmIHNlcnZlcmxlc3MsIHVzZSBtZW1vcnkgc3RvcmFnZVxyXG4gIGlmIChpc1NlcnZlcmxlc3MoKSkge1xyXG4gICAgbWVtb3J5RGF0YSA9IHsgLi4uZGF0YSB9OyAvLyBTdG9yZSBhIGNvcHkgaW4gbWVtb3J5XHJcbiAgICBjb25zb2xlLmxvZygnRGF0YSBzYXZlZCB0byBtZW1vcnkgKHNlcnZlcmxlc3MgbW9kZSknKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLy8gTG9jYWwgZGV2ZWxvcG1lbnQ6IHVzZSBmaWxlIHN0b3JhZ2VcclxuICB0cnkge1xyXG4gICAgY29uc3QgZGlyID0gcGF0aC5kaXJuYW1lKERBVEFfRklMRSk7XHJcbiAgICBpZiAoIWZzLmV4aXN0c1N5bmMoZGlyKSkge1xyXG4gICAgICBmcy5ta2RpclN5bmMoZGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnMud3JpdGVGaWxlU3luYyhEQVRBX0ZJTEUsIEpTT04uc3RyaW5naWZ5KGRhdGEsIG51bGwsIDIpLCAndXRmOCcpO1xyXG4gICAgY29uc29sZS5sb2coJ0RhdGEgc2F2ZWQgdG8gZmlsZSAobG9jYWwgbW9kZSknKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgZGF0YS5qc29uOicsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gc2F2ZSBkYXRhOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7IGxvYWREYXRhLCBzYXZlRGF0YSB9O1xyXG4iXSwibmFtZXMiOlsiZnMiLCJwYXRoIiwiREFUQV9GSUxFIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJtZW1vcnlEYXRhIiwiaXNTZXJ2ZXJsZXNzIiwiZW52IiwiVkVSQ0VMIiwiQVdTX0xBTUJEQV9GVU5DVElPTl9OQU1FIiwiRlVOQ1RJT05fTkFNRSIsImxvYWREYXRhIiwiY29uc29sZSIsImxvZyIsInBhcnRpY2lwYW50cyIsImFzc2lnbm1lbnRzIiwicmV2ZWFsZWQiLCJleGlzdHNTeW5jIiwiY29udGVudCIsInJlYWRGaWxlU3luYyIsIkpTT04iLCJwYXJzZSIsImVycm9yIiwid2FybiIsIm1lc3NhZ2UiLCJzYXZlRGF0YSIsImRhdGEiLCJkaXIiLCJkaXJuYW1lIiwibWtkaXJTeW5jIiwicmVjdXJzaXZlIiwid3JpdGVGaWxlU3luYyIsInN0cmluZ2lmeSIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/storage.js\n");

/***/ }),

/***/ "(api)/./pages/api/admin/status.js":
/*!***********************************!*\
  !*** ./pages/api/admin/status.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/storage */ \"(api)/./lib/storage.js\");\n\nasync function handler(req, res) {\n    try {\n        const data = await (0,_lib_storage__WEBPACK_IMPORTED_MODULE_0__.loadData)();\n        const total = Object.keys(data.participants).length;\n        const revealed = Object.keys(data.revealed || {}).length;\n        const participants = Object.keys(data.participants).map((name)=>({\n                name,\n                email: data.participants[name].email,\n                hasRevealed: !!data.revealed[name],\n                revealedAt: data.revealed[name] || null\n            }));\n        res.json({\n            total,\n            revealed,\n            participants\n        });\n    } catch (err) {\n        console.error(\"status error\", err);\n        res.status(500).json({\n            error: \"Server error\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYWRtaW4vc3RhdHVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWdEO0FBRWpDLGVBQWVDLFFBQVFDLEdBQUcsRUFBRUMsR0FBRztJQUM1QyxJQUFJO1FBQ0YsTUFBTUMsT0FBTyxNQUFNSixzREFBUUE7UUFDM0IsTUFBTUssUUFBUUMsT0FBT0MsSUFBSSxDQUFDSCxLQUFLSSxZQUFZLEVBQUVDLE1BQU07UUFDbkQsTUFBTUMsV0FBV0osT0FBT0MsSUFBSSxDQUFDSCxLQUFLTSxRQUFRLElBQUksQ0FBQyxHQUFHRCxNQUFNO1FBQ3hELE1BQU1ELGVBQWVGLE9BQU9DLElBQUksQ0FBQ0gsS0FBS0ksWUFBWSxFQUFFRyxHQUFHLENBQUNDLENBQUFBLE9BQVM7Z0JBQUVBO2dCQUFNQyxPQUFPVCxLQUFLSSxZQUFZLENBQUNJLEtBQUssQ0FBQ0MsS0FBSztnQkFBRUMsYUFBYSxDQUFDLENBQUNWLEtBQUtNLFFBQVEsQ0FBQ0UsS0FBSztnQkFBRUcsWUFBWVgsS0FBS00sUUFBUSxDQUFDRSxLQUFLLElBQUk7WUFBSztRQUMzTFQsSUFBSWEsSUFBSSxDQUFDO1lBQUVYO1lBQU9LO1lBQVVGO1FBQWE7SUFDM0MsRUFBRSxPQUFPUyxLQUFLO1FBQ1pDLFFBQVFDLEtBQUssQ0FBQyxnQkFBZ0JGO1FBQzlCZCxJQUFJaUIsTUFBTSxDQUFDLEtBQUtKLElBQUksQ0FBQztZQUFFRyxPQUFPO1FBQWU7SUFDL0M7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3NlY3JldC1zYW50YS8uL3BhZ2VzL2FwaS9hZG1pbi9zdGF0dXMuanM/NjI3YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBsb2FkRGF0YSB9IGZyb20gJy4uLy4uLy4uL2xpYi9zdG9yYWdlJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IGxvYWREYXRhKCk7XHJcbiAgICBjb25zdCB0b3RhbCA9IE9iamVjdC5rZXlzKGRhdGEucGFydGljaXBhbnRzKS5sZW5ndGg7XHJcbiAgICBjb25zdCByZXZlYWxlZCA9IE9iamVjdC5rZXlzKGRhdGEucmV2ZWFsZWQgfHwge30pLmxlbmd0aDtcclxuICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IE9iamVjdC5rZXlzKGRhdGEucGFydGljaXBhbnRzKS5tYXAobmFtZSA9PiAoeyBuYW1lLCBlbWFpbDogZGF0YS5wYXJ0aWNpcGFudHNbbmFtZV0uZW1haWwsIGhhc1JldmVhbGVkOiAhIWRhdGEucmV2ZWFsZWRbbmFtZV0sIHJldmVhbGVkQXQ6IGRhdGEucmV2ZWFsZWRbbmFtZV0gfHwgbnVsbCB9KSk7XHJcbiAgICByZXMuanNvbih7IHRvdGFsLCByZXZlYWxlZCwgcGFydGljaXBhbnRzIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5lcnJvcignc3RhdHVzIGVycm9yJywgZXJyKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdTZXJ2ZXIgZXJyb3InIH0pO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsibG9hZERhdGEiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwiZGF0YSIsInRvdGFsIiwiT2JqZWN0Iiwia2V5cyIsInBhcnRpY2lwYW50cyIsImxlbmd0aCIsInJldmVhbGVkIiwibWFwIiwibmFtZSIsImVtYWlsIiwiaGFzUmV2ZWFsZWQiLCJyZXZlYWxlZEF0IiwianNvbiIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsInN0YXR1cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/admin/status.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fadmin%2Fstatus&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cadmin%5Cstatus.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();